Bottom: 9265847cdba2017a252f283f62f8a6fb76306f1a
Top:    9265847cdba2017a252f283f62f8a6fb76306f1a
Author: Jon Smirl <jonsmirl@gmail.com>
Date:   2009-06-19 10:52:30 -0400

powerpc: introduce macro spin_event_timeout()

The macro spin_event_timeout() takes a condition and timeout value
(in microseconds) as parameters.  It spins until either the condition is true
or the timeout expires.  It returns the result of the condition when the loop
was terminated.

This primary purpose of this macro is to poll on a hardware register until a
status bit changes.  The timeout ensures that the loop still terminates if the
bit doesn't change as expected.  This macro makes it easier for driver
developers to perform this kind of operation properly.

Signed-off-by: Timur Tabi <timur@freescale.com>


---


